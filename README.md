# MetX Prompting Tool 🌦️

A powerful React + TypeScript application for Meteomatics employees to generate MetX dashboard JSON configurations using AI models (GPT-4.1, o3, GPT-4o).

## 🚀 Quick Start

```bash
# Install dependencies
npm install

# Start development server
npm run dev
```

The application will be available at `http://localhost:5173`

## 📁 Project Structure

```
MetX/
├── src/                          # Main application source
│   ├── components/               # React components (auth, generation, evaluation)
│   ├── services/                # Business logic services
│   ├── lib/                     # Utilities and configurations
│   ├── types/                   # TypeScript type definitions
│   └── test/                    # Test setup and utilities
├── public/                      # Static assets
├── supabase/                    # Database migrations and SQL files
├── docs/                        # Documentation and prompts
├── examples/                    # Examples and templates
│   ├── templates/               # MetX prefix/suffix templates
│   └── dashboards/              # Sample MetX JSON files
├── outputs/                     # Generated examples
├── package.json                 # Main package configuration
├── vite.config.ts              # Vite configuration
└── README.md                   # This file
```

## ✨ Core Functionality
- **AI Model Integration**: Support for GPT-4.1, o3, and GPT-4o
- **Real-time Cost Estimation**: Live cost calculation with guardrails
- **Template Management**: Pre-built MetX dashboard templates
- **File Upload Support**: Image input for visual context
- **Results Export**: JSON configuration download
- **Professional UI**: MetX branded interface

## 🔐 Authentication
- Email/password validation
- Demo authentication for development
- Supabase integration ready

## 🧪 Testing
- **93% Test Coverage** (54/58 tests passing)
- Test-driven development approach
- Vitest + React Testing Library
- Comprehensive unit and integration tests

```bash
# Run all tests
npm test

# Run tests with coverage
npm run test:coverage
```

## 🛠️ Technology Stack

- **Frontend**: React 18 + TypeScript
- **Build Tool**: Vite
- **Styling**: Tailwind CSS + shadcn/ui
- **Testing**: Vitest + React Testing Library
- **Backend**: Supabase (configured)
- **AI Integration**: OpenAI API ready
- **Deployment**: Vercel ready

## 🔧 Environment Variables

Create a `.env.local` file with:

```env
# Supabase Configuration
VITE_SUPABASE_URL=your_supabase_url
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key

# OpenAI Configuration (for production)
VITE_OPENAI_API_KEY=your_openai_api_key

# Development Mode
VITE_DEV_MODE=true
```

## 🎯 Usage

### 1. Login
- Use any valid email/password combination for demo
- Example: `demo@meteomatics.com` / `password123`

### 2. Generate MetX Configuration
1. **Describe Requirements**: Enter your dashboard needs
2. **Select AI Models**: Choose from available models
3. **Pick Template**: Select MetX Default or Aviation Weather
4. **Upload Image** (optional): Add visual context
5. **Review Cost**: Check estimated cost and proceed
6. **Generate**: Execute parallel generation across models
7. **Export Results**: Download JSON configurations

## 🚀 Development

```bash
# Install dependencies
npm install

# Start development server
npm run dev

# Build for production
npm run build

# Run linting
npm run lint

# Format code
npm run format
```

## 📊 Performance

- **Bundle Size**: Optimized with Vite
- **Loading**: Fast initial load
- **Responsiveness**: Smooth interactions
- **Accessibility**: Screen reader compatible

## 🤝 Contributing

1. Follow test-driven development
2. Maintain 90%+ test coverage
3. Use TypeScript throughout
4. Follow ESLint and Prettier rules

## Overview

This project provides a structured approach to MetX JSON generation by breaking it down into three main components:
1. **Static Prefix** (`examples/templates/metx-prefix-template.txt`) - The outer dashboard structure
2. **Dynamic Layers** (generated by LLM using prompts in `docs/`) - Weather data layers
3. **Static Suffix** (`examples/templates/metx-suffix-template.txt`) - The closing JSON structure

## Key Files

### Core Templates
- `examples/templates/metx-prefix-template.txt` - Static JSON prefix with placeholders
- `examples/templates/metx-suffix-template.txt` - Static JSON suffix
- `docs/metx-layers-only-prompt.md` - LLM prompt for generating weather layers
- `docs/metx-dashbuilder-prompt.md` - Complete dashboard builder prompt

### Documentation
- `docs/template-usage-guide.md` - Step-by-step guide for using the templates
- `docs/metx-json-template-analysis.md` - Analysis of MetX JSON structure
- `docs/PRD.md` - Product Requirements Document for the web tool

### Examples
- `examples/dashboards/` - Sample MetX JSON files for reference
- `outputs/` - Generated dashboard examples

## Project Goals

This toolkit is designed to:
- Simplify MetX dashboard creation
- Enable rapid prototyping of weather visualizations
- Provide consistent, valid JSON output
- Support both technical and non-technical users

## Related

This is part of a larger initiative to build a web-based internal tool for Meteomatics employees to rapidly iterate, benchmark, and rate prompts and LLM models for generating MetX dashboard JSON (see `PRD.md`). 